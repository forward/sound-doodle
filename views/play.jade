extends layout
block append scripts
  script(src='/javascripts/Audiolet.js')
  script(src='/javascripts/audiofile.js')
  script(src='/javascripts/audiolet_app.js')
  script(src='/javascripts/serenade.js')
  script(src='/javascripts/finger.js')
  script(src='https://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js')
  script(src='/javascripts/recorder.js')
  script
   //
   // Main entry point
   //
    
   jQuery(document).ready(function() {
       Sound.init();
       window.canvas = document.getElementById("canvas");
       Scene.load("!{id}", canvas, function(scene) {
             window.scene =  scene;
             window.scene.setMode('play');
             ko.applyBindings(scene);
             Wami.setup({ id : 'wami' });
       });
   });
block append content
  div(id="notifications-row", class="row offset1")
    div(class="span8")
      div(class="alert alert-info", data-bind="visible:(mode()==='play'&& !isDragging())") Drag your mouse over the shapes
  div(class="row", id="canvas-row", style="margin-left:30px")
    div(class="span9 offset1")
      canvas(width="700",height="700",id="canvas")
  div(id='log')
  div(id='wami')